# Sample Kubernetes Secret for SSH Git authentication
# Based on ADR-009: Secret Management and Git Credentials
#
# Usage:
#   kubectl create secret generic git-ssh-credentials \
#     --from-file=ssh-privatekey=/path/to/id_rsa \
#     -n jupyter-notebook-validator-operator
#
# Or apply this file (after replacing with your actual key):
#   kubectl apply -f config/samples/git-credentials-ssh.yaml

apiVersion: v1
kind: Secret
metadata:
  name: git-ssh-credentials
  namespace: jupyter-notebook-validator-operator
  labels:
    app.kubernetes.io/name: jupyter-notebook-validator-operator
    app.kubernetes.io/component: git-credentials
type: Opaque
stringData:
  # SSH private key (replace with your actual key)
  # Generate with: ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
  # Add public key to GitHub: Settings → SSH and GPG keys → New SSH key
  # IMPORTANT: Replace this placeholder with your actual SSH private key
  ssh-privatekey: |
    -----BEGIN OPENSSH PRIVATE KEY-----
    REPLACE_THIS_WITH_YOUR_ACTUAL_SSH_PRIVATE_KEY_CONTENT
    -----END OPENSSH PRIVATE KEY-----

---
# Example: SSH Key Setup for GitHub
#
# 1. Generate SSH key pair:
#    ssh-keygen -t rsa -b 4096 -C "your_email@example.com" -f ~/.ssh/github_operator
#
# 2. Add public key to GitHub:
#    - Go to GitHub Settings → SSH and GPG keys
#    - Click "New SSH key"
#    - Paste contents of ~/.ssh/github_operator.pub
#
# 3. Create Kubernetes secret:
#    kubectl create secret generic git-ssh-credentials \
#      --from-file=ssh-privatekey=$HOME/.ssh/github_operator \
#      -n jupyter-notebook-validator-operator
#
# 4. Reference in NotebookValidationJob:
#    spec:
#      notebook:
#        git:
#          url: "git@github.com:username/repo.git"
#          ref: "main"
#          credentialsSecret: "git-ssh-credentials"

